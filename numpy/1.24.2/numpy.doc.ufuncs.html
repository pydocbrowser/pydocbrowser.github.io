<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>numpy.doc.ufuncs</title>
    <meta name="generator" content="pydoctor 22.9.1.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; numpy-1.24.2 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          numpy <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="numpy.doc.ufuncs.html" class="internal-link" title="This module">ufuncs</a></code> 
      </div>
      
      <div>
         
          <div class="childrenKindTitle">Contents</div>
          <ul><li><a class="rst-reference internal" href="#rst-type-coercion" id="rst-toc-entry-1">Type coercion</a></li>
<li><a class="rst-reference internal" href="#rst-ufunc-methods" id="rst-toc-entry-2">ufunc methods</a></li>
<li><a class="rst-reference internal" href="#rst-output-arguments" id="rst-toc-entry-3">Output arguments</a></li>
<li><a class="rst-reference internal" href="#rst-and-or-as-ufuncs" id="rst-toc-entry-4">and &amp; or as ufuncs</a></li>
</ul>
        

        
         

        
        

        
         

        
         

        
         

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="numpy.doc.html" class="internal-link" title="The parent of this module">doc</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="numpy.doc.constants.html" class="internal-link" title="numpy.doc.constants">constants</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="numpy.doc.ufuncs.html" class="internal-link" title="numpy.doc.ufuncs">ufuncs</a></code>
            </div>
        

    </li>
</ul> 

        
        

        
         

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="numpy.doc.html#__doc__" class="internal-link" title="numpy.doc.__doc__">__doc__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="numpy.doc.html#ref_dir" class="internal-link" title="numpy.doc.ref_dir">ref<wbr></wbr>_dir</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="module"><code><code><a href="index.html" class="internal-link">numpy</a></code><wbr></wbr>.<code><a href="numpy.doc.html" class="internal-link" title="numpy.doc">doc</a></code><wbr></wbr>.<code><a href="numpy.doc.ufuncs.html" class="internal-link" title="numpy.doc.ufuncs">ufuncs</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/numpy-1.24.2//numpy/doc/ufuncs.py" class="sourceLink">(source)</a>
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p>Ufuncs are, generally speaking, mathematical functions or operations that are
applied element-by-element to the contents of an array. That is, the result
in each output array element only depends on the value in the corresponding
input array (or arrays) and on no other array elements. NumPy comes with a
large suite of ufuncs, and scipy extends that suite substantially. The simplest
example is the addition operator:</p>
<pre class="rst-literal-block">
&gt;&gt;&gt; np.array([0,2,3,4]) + np.array([1,1,-1,2])
array([1, 3, 2, 6])
</pre>
<p>The ufunc module lists all the available ufuncs in numpy. Documentation on
the specific ufuncs may be found in those modules. This documentation is
intended to address the more general aspects of ufuncs common to most of
them. All of the ufuncs that make use of Python operators (e.g., +, -, etc.)
have equivalent functions defined (e.g. add() for +)</p>
<div class="rst-section" id="rst-type-coercion">
<h2 class="heading">Type coercion</h2>
<p>What happens when a binary operator (e.g., +,-,*,/, etc) deals with arrays of
two different types? What is the type of the result? Typically, the result is
the higher of the two types. For example:</p>
<pre class="rst-literal-block">
float32 + float64 -&gt; float64
int8 + int32 -&gt; int32
int16 + float32 -&gt; float32
float32 + complex64 -&gt; complex64
</pre>
<p>There are some less obvious cases generally involving mixes of types
(e.g. uints, ints and floats) where equal bit sizes for each are not
capable of saving all the information in a different type of equivalent
bit size. Some examples are int32 vs float32 or uint32 vs int32.
Generally, the result is the higher type of larger size than both
(if available). So:</p>
<pre class="rst-literal-block">
int32 + float32 -&gt; float64
uint32 + int32 -&gt; int64
</pre>
<p>Finally, the type coercion behavior when expressions involve Python
scalars is different than that seen for arrays. Since Python has a
limited number of types, combining a Python int with a dtype=np.int8
array does not coerce to the higher type but instead, the type of the
array prevails. So the rules for Python scalars combined with arrays is
that the result will be that of the array equivalent the Python scalar
if the Python scalar is of a higher 'kind' than the array (e.g., float
vs. int), otherwise the resultant type will be that of the array.
For example:</p>
<pre class="rst-literal-block">
Python int + int8 -&gt; int8
Python float + int8 -&gt; float64
</pre>
</div>
<div class="rst-section" id="rst-ufunc-methods">
<h2 class="heading">ufunc methods</h2>
<p>Binary ufuncs support 4 methods.</p>
<dl class="rst-docutils">
<dt><strong>.reduce(arr)</strong> applies the binary operator to elements of the array in</dt>
<dd><blockquote class="rst-first">
sequence. For example:</blockquote>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>np.add.reduce(np.arange(10))  <span class="py-comment"># adds all elements of array</span>
<span class="py-output">45</span>
</pre></dd>
</dl>
<p>For multidimensional arrays, the first dimension is reduced by default:</p>
<pre class="rst-literal-block">
&gt;&gt;&gt; np.add.reduce(np.arange(10).reshape(2,5))
    array([ 5,  7,  9, 11, 13])
</pre>
<p>The axis keyword can be used to specify different axes to reduce:</p>
<pre class="rst-literal-block">
&gt;&gt;&gt; np.add.reduce(np.arange(10).reshape(2,5),axis=1)
array([10, 35])
</pre>
<p><strong>.accumulate(arr)</strong> applies the binary operator and generates an
equivalently shaped array that includes the accumulated amount for each
element of the array. A couple examples:</p>
<pre class="rst-literal-block">
&gt;&gt;&gt; np.add.accumulate(np.arange(10))
array([ 0,  1,  3,  6, 10, 15, 21, 28, 36, 45])
&gt;&gt;&gt; np.multiply.accumulate(np.arange(1,9))
array([    1,     2,     6,    24,   120,   720,  5040, 40320])
</pre>
<p>The behavior for multidimensional arrays is the same as for .reduce(),
as is the use of the axis keyword).</p>
<dl class="rst-docutils">
<dt><strong>.reduceat(arr,indices)</strong> allows one to apply reduce to selected parts</dt>
<dd>of an array. It is a difficult method to understand. See the documentation
at:</dd>
<dt><strong>.outer(arr1,arr2)</strong> generates an outer operation on the two arrays arr1 and</dt>
<dd><blockquote class="rst-first">
arr2. It will work on multidimensional arrays (the shape of the result is
the concatenation of the two input shapes.:</blockquote>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>np.multiply.outer(np.arange(3),np.arange(4))
<span class="py-output">array([[0, 0, 0, 0],</span>
<span class="py-output">       [0, 1, 2, 3],</span>
<span class="py-output">       [0, 2, 4, 6]])</span>
</pre></dd>
</dl>
</div>
<div class="rst-section" id="rst-output-arguments">
<h2 class="heading">Output arguments</h2>
<p>All ufuncs accept an optional output array. The array must be of the expected
output shape. Beware that if the type of the output array is of a different
(and lower) type than the output result, the results may be silently truncated
or otherwise corrupted in the downcast to the lower type. This usage is useful
when one wants to avoid creating large temporary arrays and instead allows one
to reuse the same array memory repeatedly (at the expense of not being able to
use more convenient operator notation in expressions). Note that when the
output argument is used, the ufunc still returns a reference to the result.</p>
<blockquote>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>x = np.arange(2)
<span class="py-prompt">&gt;&gt;&gt; </span>np.add(np.arange(2),np.arange(2.),x)
<span class="py-output">array([0, 2])</span>
<span class="py-prompt">&gt;&gt;&gt; </span>x
<span class="py-output">array([0, 2])</span>
</pre></blockquote>
</div>
<div class="rst-section" id="rst-and-or-as-ufuncs">
<h2 class="heading">and &amp; or as ufuncs</h2>
<p>Invariably people try to use the python 'and' and 'or' as logical operators
(and quite understandably). But these operators do not behave as normal
operators since Python treats these quite differently. They cannot be
overloaded with array equivalents. Thus using 'and' or 'or' with an array
results in an error. There are two alternatives:</p>
<blockquote>
<ol class="rst-arabic simple">
<li>use the ufunc functions logical_and() and logical_or().</li>
<li>use the bitwise operators &amp; and |. The drawback of these is that if
the arguments to these operators are not boolean arrays, the result is
likely incorrect. On the other hand, most usages of logical_and and
logical_or are with boolean arrays. As long as one is careful, this is
a convenient way to apply these operators.</li>
</ol>
</blockquote>
</div>
</div>
        </div>

        <div id="splitTables">
          
          

            
        </div>

        <div id="childList">
          
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for numpy,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.9.1.dev0 at 2023-02-06 00:57:38.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>