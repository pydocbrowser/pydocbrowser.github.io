<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>django.db.migrations.graph.MigrationGraph</title>
    <meta name="generator" content="pydoctor 22.9.1.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; django-4.2 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          django <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Class</span>
        <code class="thisobject"><a href="django.db.migrations.graph.MigrationGraph.html" class="internal-link" title="This class"><wbr></wbr>Migration<wbr></wbr>Graph</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__contains__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__contains__">__contains__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__init__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__init__">__init__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__repr__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__repr__">__repr__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__str__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__str__">__str__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#add_dependency" class="internal-link" title="django.db.migrations.graph.MigrationGraph.add_dependency">add<wbr></wbr>_dependency</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#add_dummy_node" class="internal-link" title="django.db.migrations.graph.MigrationGraph.add_dummy_node">add<wbr></wbr>_dummy<wbr></wbr>_node</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#add_node" class="internal-link" title="django.db.migrations.graph.MigrationGraph.add_node">add<wbr></wbr>_node</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#backwards_plan" class="internal-link" title="django.db.migrations.graph.MigrationGraph.backwards_plan">backwards<wbr></wbr>_plan</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ensure_not_cyclic" class="internal-link" title="django.db.migrations.graph.MigrationGraph.ensure_not_cyclic">ensure<wbr></wbr>_not<wbr></wbr>_cyclic</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#forwards_plan" class="internal-link" title="django.db.migrations.graph.MigrationGraph.forwards_plan">forwards<wbr></wbr>_plan</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#iterative_dfs" class="internal-link" title="django.db.migrations.graph.MigrationGraph.iterative_dfs">iterative<wbr></wbr>_dfs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#leaf_nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.leaf_nodes">leaf<wbr></wbr>_nodes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#make_state" class="internal-link" title="django.db.migrations.graph.MigrationGraph.make_state">make<wbr></wbr>_state</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#remove_replaced_nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.remove_replaced_nodes">remove<wbr></wbr>_replaced<wbr></wbr>_nodes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#remove_replacement_node" class="internal-link" title="django.db.migrations.graph.MigrationGraph.remove_replacement_node">remove<wbr></wbr>_replacement<wbr></wbr>_node</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#root_nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.root_nodes">root<wbr></wbr>_nodes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#validate_consistency" class="internal-link" title="django.db.migrations.graph.MigrationGraph.validate_consistency">validate<wbr></wbr>_consistency</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_generate_plan" class="internal-link" title="django.db.migrations.graph.MigrationGraph._generate_plan">_generate<wbr></wbr>_plan</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_nodes_and_edges" class="internal-link" title="django.db.migrations.graph.MigrationGraph._nodes_and_edges">_nodes<wbr></wbr>_and<wbr></wbr>_edges</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Attributes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#node_map" class="internal-link" title="django.db.migrations.graph.MigrationGraph.node_map">node<wbr></wbr>_map</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.nodes">nodes</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Module</span>
        <code><a href="django.db.migrations.graph.html" class="internal-link" title="The parent of this class">graph</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="django.db.migrations.graph.DummyNode.html" class="internal-link" title="django.db.migrations.graph.DummyNode"><wbr></wbr>Dummy<wbr></wbr>Node</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="django.db.migrations.graph.MigrationGraph.html" class="internal-link" title="django.db.migrations.graph.MigrationGraph"><wbr></wbr>Migration<wbr></wbr>Graph</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="django.db.migrations.graph.Node.html" class="internal-link" title="django.db.migrations.graph.Node"><wbr></wbr>Node</a></code>
            </div>
        

    </li>
</ul>

        
         

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="class"><code><code><a href="index.html" class="internal-link">django</a></code><wbr></wbr>.<code><a href="django.db.html" class="internal-link" title="django.db">db</a></code><wbr></wbr>.<code><a href="django.db.migrations.html" class="internal-link" title="django.db.migrations">migrations</a></code><wbr></wbr>.<code><a href="django.db.migrations.graph.html" class="internal-link" title="django.db.migrations.graph">graph</a></code><wbr></wbr>.<code><a href="django.db.migrations.graph.MigrationGraph.html" class="internal-link" title="django.db.migrations.graph.MigrationGraph">MigrationGraph</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          class documentation
        </div>

        <div class="extrasDocstring">
          <p class="class-signature"><code><span class="py-keyword">class</span> <span class="py-defname">MigrationGraph</span>: <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L63" class="sourceLink">(source)</a></code></p>
          <p><a href="classIndex.html#django.db.migrations.graph.MigrationGraph">View In Hierarchy</a></p>
        </div>

        <div class="moduleDocstring">
          <div><p class="pre">Represent the digraph of all migrations in a project.

Each migration is a node, and each dependency is an edge. There are
no implicit dependencies between numbered migrations - the numbering is
merely a convention to aid file listing. Every new numbered migration
has a declared dependency to the previous number, meaning that VCS
branch merges can be detected and resolved.

Migrations files can be marked as replacing another set of migrations -
this is to support the "squash" feature. The graph handler isn't responsible
for these; instead, the code to load them in here should examine the
migration files and if the replaced migrations are all either unapplied
or not present, it should ignore the replaced ones, load in just the
replacing migration, and repoint any dependencies that pointed to the
replaced migrations to point to the replacing one.

A node should be a tuple: (app_path, migration_name). The tree special-cases
things within an app - namely, root nodes and leaf nodes ignore dependencies
to other apps.</p></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id3427">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__contains__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__contains__">__contains__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__init__">__init__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__repr__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__repr__">__repr__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__str__" class="internal-link" title="django.db.migrations.graph.MigrationGraph.__str__">__str__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#add_dependency" class="internal-link" title="django.db.migrations.graph.MigrationGraph.add_dependency">add<wbr></wbr>_dependency</a></code></td>
    <td>This may create dummy nodes if they don't yet exist. If `skip_validation=True`, validate_consistency() should be called afterward.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#add_dummy_node" class="internal-link" title="django.db.migrations.graph.MigrationGraph.add_dummy_node">add<wbr></wbr>_dummy<wbr></wbr>_node</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#add_node" class="internal-link" title="django.db.migrations.graph.MigrationGraph.add_node">add<wbr></wbr>_node</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#backwards_plan" class="internal-link" title="django.db.migrations.graph.MigrationGraph.backwards_plan">backwards<wbr></wbr>_plan</a></code></td>
    <td>Given a node, return a list of which dependent nodes (dependencies) must be unapplied, ending with the node itself. This is the list you would follow if removing the migrations from a database.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#ensure_not_cyclic" class="internal-link" title="django.db.migrations.graph.MigrationGraph.ensure_not_cyclic">ensure<wbr></wbr>_not<wbr></wbr>_cyclic</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#forwards_plan" class="internal-link" title="django.db.migrations.graph.MigrationGraph.forwards_plan">forwards<wbr></wbr>_plan</a></code></td>
    <td>Given a node, return a list of which previous nodes (dependencies) must be applied, ending with the node itself. This is the list you would follow if applying the migrations to a database.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#iterative_dfs" class="internal-link" title="django.db.migrations.graph.MigrationGraph.iterative_dfs">iterative<wbr></wbr>_dfs</a></code></td>
    <td>Iterative depth-first search for finding dependencies.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#leaf_nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.leaf_nodes">leaf<wbr></wbr>_nodes</a></code></td>
    <td>Return all leaf nodes - that is, nodes with no dependents in their app. These are the "most current" version of an app's schema. Having more than one per app is technically an error, but one that gets handled further up, in the interactive command - it's usually the result of a VCS merge and needs some user input.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#make_state" class="internal-link" title="django.db.migrations.graph.MigrationGraph.make_state">make<wbr></wbr>_state</a></code></td>
    <td>Given a migration node or nodes, return a complete ProjectState for it. If at_end is False, return the state before the migration has run. If nodes is not provided, return the overall most current project state.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#remove_replaced_nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.remove_replaced_nodes">remove<wbr></wbr>_replaced<wbr></wbr>_nodes</a></code></td>
    <td>Remove each of the `replaced` nodes (when they exist). Any dependencies that were referencing them are changed to reference the `replacement` node instead.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#remove_replacement_node" class="internal-link" title="django.db.migrations.graph.MigrationGraph.remove_replacement_node">remove<wbr></wbr>_replacement<wbr></wbr>_node</a></code></td>
    <td>The inverse operation to `remove_replaced_nodes`. Almost. Remove the replacement node `replacement` and remap its child nodes to `replaced` - the list of nodes it would have replaced. Don't remap its parent nodes as they are expected to be correct already.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#root_nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.root_nodes">root<wbr></wbr>_nodes</a></code></td>
    <td>Return all root nodes - that is, nodes with no dependencies inside their app. These are the starting point for an app.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#validate_consistency" class="internal-link" title="django.db.migrations.graph.MigrationGraph.validate_consistency">validate<wbr></wbr>_consistency</a></code></td>
    <td>Ensure there are no dummy nodes remaining in the graph.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#node_map" class="internal-link" title="django.db.migrations.graph.MigrationGraph.node_map">node<wbr></wbr>_map</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#nodes" class="internal-link" title="django.db.migrations.graph.MigrationGraph.nodes">nodes</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_generate_plan" class="internal-link" title="django.db.migrations.graph.MigrationGraph._generate_plan">_generate<wbr></wbr>_plan</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_nodes_and_edges" class="internal-link" title="django.db.migrations.graph.MigrationGraph._nodes_and_edges">_nodes<wbr></wbr>_and<wbr></wbr>_edges</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.__contains__">
    
  </a>
  <a name="__contains__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__contains__</span><span class="function-signature">(self, node)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L332">
      
      (source)
    </a>
    <a class="headerLink" href="#__contains__" title="django.db.migrations.graph.MigrationGraph.__contains__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L86">
      
      (source)
    </a>
    <a class="headerLink" href="#__init__" title="django.db.migrations.graph.MigrationGraph.__init__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.__repr__">
    
  </a>
  <a name="__repr__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__repr__</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L297">
      
      (source)
    </a>
    <a class="headerLink" href="#__repr__" title="django.db.migrations.graph.MigrationGraph.__repr__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.__str__">
    
  </a>
  <a name="__str__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__str__</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L294">
      
      (source)
    </a>
    <a class="headerLink" href="#__str__" title="django.db.migrations.graph.MigrationGraph.__str__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.add_dependency">
    
  </a>
  <a name="add_dependency">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">add_dependency</span><span class="function-signature">(self, migration, child, parent, skip_validation=<a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L101">
      
      (source)
    </a>
    <a class="headerLink" href="#add_dependency" title="django.db.migrations.graph.MigrationGraph.add_dependency">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">This may create dummy nodes if they don't yet exist. If
`skip_validation=True`, validate_consistency() should be called
afterward.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.add_dummy_node">
    
  </a>
  <a name="add_dummy_node">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">add_dummy_node</span><span class="function-signature">(self, key, origin, error_message)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L96">
      
      (source)
    </a>
    <a class="headerLink" href="#add_dummy_node" title="django.db.migrations.graph.MigrationGraph.add_dummy_node">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.add_node">
    
  </a>
  <a name="add_node">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">add_node</span><span class="function-signature">(self, key, migration)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L90">
      
      (source)
    </a>
    <a class="headerLink" href="#add_node" title="django.db.migrations.graph.MigrationGraph.add_node">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.backwards_plan">
    
  </a>
  <a name="backwards_plan">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">backwards_plan</span><span class="function-signature">(self, target)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L210">
      
      (source)
    </a>
    <a class="headerLink" href="#backwards_plan" title="django.db.migrations.graph.MigrationGraph.backwards_plan">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Given a node, return a list of which dependent nodes (dependencies)
must be unapplied, ending with the node itself. This is the list you
would follow if removing the migrations from a database.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.ensure_not_cyclic">
    
  </a>
  <a name="ensure_not_cyclic">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">ensure_not_cyclic</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L269">
      
      (source)
    </a>
    <a class="headerLink" href="#ensure_not_cyclic" title="django.db.migrations.graph.MigrationGraph.ensure_not_cyclic">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.forwards_plan">
    
  </a>
  <a name="forwards_plan">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">forwards_plan</span><span class="function-signature">(self, target)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L200">
      
      (source)
    </a>
    <a class="headerLink" href="#forwards_plan" title="django.db.migrations.graph.MigrationGraph.forwards_plan">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Given a node, return a list of which previous nodes (dependencies) must
be applied, ending with the node itself. This is the list you would
follow if applying the migrations to a database.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.iterative_dfs">
    
  </a>
  <a name="iterative_dfs">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">iterative_dfs</span><span class="function-signature">(self, start, forwards=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L220">
      
      (source)
    </a>
    <a class="headerLink" href="#iterative_dfs" title="django.db.migrations.graph.MigrationGraph.iterative_dfs">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Iterative depth-first search for finding dependencies.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.leaf_nodes">
    
  </a>
  <a name="leaf_nodes">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">leaf_nodes</span><span class="function-signature">(self, app=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L253">
      
      (source)
    </a>
    <a class="headerLink" href="#leaf_nodes" title="django.db.migrations.graph.MigrationGraph.leaf_nodes">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Return all leaf nodes - that is, nodes with no dependents in their app.
These are the "most current" version of an app's schema.
Having more than one per app is technically an error, but one that
gets handled further up, in the interactive command - it's usually the
result of a VCS merge and needs some user input.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.make_state">
    
  </a>
  <a name="make_state">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">make_state</span><span class="function-signature">(self, nodes=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, at_end=<a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, real_apps=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L314">
      
      (source)
    </a>
    <a class="headerLink" href="#make_state" title="django.db.migrations.graph.MigrationGraph.make_state">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Given a migration node or nodes, return a complete ProjectState for it.
If at_end is False, return the state before the migration has run.
If nodes is not provided, return the overall most current project state.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.remove_replaced_nodes">
    
  </a>
  <a name="remove_replaced_nodes">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">remove_replaced_nodes</span><span class="function-signature">(self, replacement, replaced)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L124">
      
      (source)
    </a>
    <a class="headerLink" href="#remove_replaced_nodes" title="django.db.migrations.graph.MigrationGraph.remove_replaced_nodes">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Remove each of the `replaced` nodes (when they exist). Any
dependencies that were referencing them are changed to reference the
`replacement` node instead.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.remove_replacement_node">
    
  </a>
  <a name="remove_replacement_node">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">remove_replacement_node</span><span class="function-signature">(self, replacement, replaced)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L159">
      
      (source)
    </a>
    <a class="headerLink" href="#remove_replacement_node" title="django.db.migrations.graph.MigrationGraph.remove_replacement_node">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">The inverse operation to `remove_replaced_nodes`. Almost. Remove the
replacement node `replacement` and remap its child nodes to `replaced`
- the list of nodes it would have replaced. Don't remap its parent
nodes as they are expected to be correct already.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.root_nodes">
    
  </a>
  <a name="root_nodes">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">root_nodes</span><span class="function-signature">(self, app=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L240">
      
      (source)
    </a>
    <a class="headerLink" href="#root_nodes" title="django.db.migrations.graph.MigrationGraph.root_nodes">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Return all root nodes - that is, nodes with no dependencies inside
their app. These are the starting point for an app.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.validate_consistency">
    
  </a>
  <a name="validate_consistency">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">validate_consistency</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L196">
      
      (source)
    </a>
    <a class="headerLink" href="#validate_consistency" title="django.db.migrations.graph.MigrationGraph.validate_consistency">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Ensure there are no dummy nodes remaining in the graph.</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.node_map">
    
  </a>
  <a name="node_map">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">node_map</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L87">
      
      (source)
    </a>
    <a class="headerLink" href="#node_map" title="django.db.migrations.graph.MigrationGraph.node_map">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="django.db.migrations.graph.MigrationGraph.nodes">
    
  </a>
  <a name="nodes">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">nodes</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L88">
      
      (source)
    </a>
    <a class="headerLink" href="#nodes" title="django.db.migrations.graph.MigrationGraph.nodes">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="django.db.migrations.graph.MigrationGraph._generate_plan">
    
  </a>
  <a name="_generate_plan">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_generate_plan</span><span class="function-signature">(self, nodes, at_end)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L306">
      
      (source)
    </a>
    <a class="headerLink" href="#_generate_plan" title="django.db.migrations.graph.MigrationGraph._generate_plan">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="django.db.migrations.graph.MigrationGraph._nodes_and_edges">
    
  </a>
  <a name="_nodes_and_edges">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_nodes_and_edges</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/django-4.2//django/db/migrations/graph.py#L301">
      
      (source)
    </a>
    <a class="headerLink" href="#_nodes_and_edges" title="django.db.migrations.graph.MigrationGraph._nodes_and_edges">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for django,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.9.1.dev0 at 2023-04-04 00:56:27.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>