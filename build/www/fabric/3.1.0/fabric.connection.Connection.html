<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>fabric.connection.Connection</title>
    <meta name="generator" content="pydoctor 23.4.1.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; fabric-3.1.0 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          fabric <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Class</span>
        <code class="thisobject"><a href="fabric.connection.Connection.html" class="internal-link" title="This class"><wbr></wbr>Connection</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#from_v1" class="internal-link" title="fabric.connection.Connection.from_v1">from<wbr></wbr>_v1</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__enter__" class="internal-link" title="fabric.connection.Connection.__enter__">__enter__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__eq__" class="internal-link" title="fabric.connection.Connection.__eq__">__eq__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__exit__" class="internal-link" title="fabric.connection.Connection.__exit__">__exit__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__hash__" class="internal-link" title="fabric.connection.Connection.__hash__">__hash__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__init__" class="internal-link" title="fabric.connection.Connection.__init__">__init__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__lt__" class="internal-link" title="fabric.connection.Connection.__lt__">__lt__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__repr__" class="internal-link" title="fabric.connection.Connection.__repr__">__repr__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#close" class="internal-link" title="fabric.connection.Connection.close">close</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#create_session" class="internal-link" title="fabric.connection.Connection.create_session">create<wbr></wbr>_session</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#derive_shorthand" class="internal-link" title="fabric.connection.Connection.derive_shorthand">derive<wbr></wbr>_shorthand</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#forward_local" class="internal-link" title="fabric.connection.Connection.forward_local">forward<wbr></wbr>_local</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#forward_remote" class="internal-link" title="fabric.connection.Connection.forward_remote">forward<wbr></wbr>_remote</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get" class="internal-link" title="fabric.connection.Connection.get">get</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get_gateway" class="internal-link" title="fabric.connection.Connection.get_gateway">get<wbr></wbr>_gateway</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#local" class="internal-link" title="fabric.connection.Connection.local">local</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#open" class="internal-link" title="fabric.connection.Connection.open">open</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#open_gateway" class="internal-link" title="fabric.connection.Connection.open_gateway">open<wbr></wbr>_gateway</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#put" class="internal-link" title="fabric.connection.Connection.put">put</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#resolve_connect_kwargs" class="internal-link" title="fabric.connection.Connection.resolve_connect_kwargs">resolve<wbr></wbr>_connect<wbr></wbr>_kwargs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#run" class="internal-link" title="fabric.connection.Connection.run">run</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#sftp" class="internal-link" title="fabric.connection.Connection.sftp">sftp</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#shell" class="internal-link" title="fabric.connection.Connection.shell">shell</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#sudo" class="internal-link" title="fabric.connection.Connection.sudo">sudo</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_identity" class="internal-link" title="fabric.connection.Connection._identity">_identity</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_remote_runner" class="internal-link" title="fabric.connection.Connection._remote_runner">_remote<wbr></wbr>_runner</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Attributes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#client" class="internal-link" title="fabric.connection.Connection.client">client</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#connect_kwargs" class="internal-link" title="fabric.connection.Connection.connect_kwargs">connect<wbr></wbr>_kwargs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#connect_timeout" class="internal-link" title="fabric.connection.Connection.connect_timeout">connect<wbr></wbr>_timeout</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#forward_agent" class="internal-link" title="fabric.connection.Connection.forward_agent">forward<wbr></wbr>_agent</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#gateway" class="internal-link" title="fabric.connection.Connection.gateway">gateway</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#host" class="internal-link" title="fabric.connection.Connection.host">host</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#inline_ssh_env" class="internal-link" title="fabric.connection.Connection.inline_ssh_env">inline<wbr></wbr>_ssh<wbr></wbr>_env</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#original_host" class="internal-link" title="fabric.connection.Connection.original_host">original<wbr></wbr>_host</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#port" class="internal-link" title="fabric.connection.Connection.port">port</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ssh_config" class="internal-link" title="fabric.connection.Connection.ssh_config">ssh<wbr></wbr>_config</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#transport" class="internal-link" title="fabric.connection.Connection.transport">transport</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#user" class="internal-link" title="fabric.connection.Connection.user">user</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#is_connected" class="internal-link" title="fabric.connection.Connection.is_connected">is<wbr></wbr>_connected</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_agent_handler" class="internal-link" title="fabric.connection.Connection._agent_handler">_agent<wbr></wbr>_handler</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_sftp" class="internal-link" title="fabric.connection.Connection._sftp">_sftp</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Module</span>
        <code><a href="fabric.connection.html" class="internal-link" title="The parent of this class">connection</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="fabric.connection.Connection.html" class="internal-link" title="fabric.connection.Connection"><wbr></wbr>Connection</a></code>
            </div>
        

    </li>
</ul>

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="fabric.connection.html#derive_shorthand" class="internal-link" title="fabric.connection.derive_shorthand">derive<wbr></wbr>_shorthand</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a></code>
            </div>
        

    </li>
</ul> 

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="class"><code><code><a href="index.html" class="internal-link">fabric</a></code><wbr></wbr>.<code><a href="fabric.connection.html" class="internal-link" title="fabric.connection">connection</a></code><wbr></wbr>.<code><a href="fabric.connection.Connection.html" class="internal-link" title="fabric.connection.Connection">Connection</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          class documentation
        </div>

        <div class="extrasDocstring">
          <p class="class-signature"><code><span class="py-keyword">class</span> <span class="py-defname">Connection</span>(Context): <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L49" class="sourceLink">(source)</a></code></p><p>Constructor: <code><a href="#__init__" class="internal-link" title="fabric.connection.Connection.__init__">Connection(host, user, port, config, ...)</a></code></p>
          <p><a href="classIndex.html#fabric.connection.Connection">View In Hierarchy</a></p>
        </div>

        <div class="moduleDocstring">
          <div><p class="pre">A connection to an SSH daemon, with methods for commands and file transfer.

**Basics**

This class inherits from Invoke's `~invoke.context.Context`, as it is a
context within which commands, tasks etc can operate. It also encapsulates
a Paramiko `~paramiko.client.SSHClient` instance, performing useful high
level operations with that `~paramiko.client.SSHClient` and
`~paramiko.channel.Channel` instances generated from it.

.. _connect_kwargs:

.. note::
    Many SSH specific options -- such as specifying private keys and
    passphrases, timeouts, disabling SSH agents, etc -- are handled
    directly by Paramiko and should be specified via the
    :ref:`connect_kwargs argument &lt;connect_kwargs-arg&gt;` of the constructor.

**Lifecycle**

`.Connection` has a basic "`create &lt;__init__&gt;`, `connect/open &lt;open&gt;`, `do
work &lt;run&gt;`, `disconnect/close &lt;close&gt;`" lifecycle:

- `Instantiation &lt;__init__&gt;` imprints the object with its connection
  parameters (but does **not** actually initiate the network connection).

    - An alternate constructor exists for users :ref:`upgrading piecemeal
      from Fabric 1 &lt;from-v1&gt;`: `from_v1`

- Methods like `run`, `get` etc automatically trigger a call to
  `open` if the connection is not active; users may of course call `open`
  manually if desired.
- It's best to explicitly close your connections when done using them. This
  can be accomplished by manually calling `close`, or by using the object
  as a contextmanager::

      with Connection('host') as c:
         c.run('command')
         c.put('file')

  .. warning::
      While Fabric (and Paramiko) attempt to register connections for
      automatic garbage collection, it's not currently safe to rely on that
      feature, as it can lead to end-of-process hangs and similar behavior.

.. note::
    This class rebinds `invoke.context.Context.run` to `.local` so both
    remote and local command execution can coexist.

**Configuration**

Most `.Connection` parameters honor :doc:`Invoke-style configuration
&lt;/concepts/configuration&gt;` as well as any applicable :ref:`SSH config file
directives &lt;connection-ssh-config&gt;`. For example, to end up with a
connection to ``admin@myhost``, one could:

- Use any built-in config mechanism, such as ``/etc/fabric.yml``,
  ``~/.fabric.json``, collection-driven configuration, env vars, etc,
  stating ``user: admin`` (or ``{"user": "admin"}``, depending on config
  format.) Then ``Connection('myhost')`` would implicitly have a ``user``
  of ``admin``.
- Use an SSH config file containing ``User admin`` within any applicable
  ``Host`` header (``Host myhost``, ``Host *``, etc.) Again,
  ``Connection('myhost')`` will default to an ``admin`` user.
- Leverage host-parameter shorthand (described in `.Config.__init__`), i.e.
  ``Connection('admin@myhost')``.
- Give the parameter directly: ``Connection('myhost', user='admin')``.

The same applies to agent forwarding, gateways, and so forth.

.. versionadded:: 2.0</p></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id8">
  
  
  <tr class="classmethod">
    
    <td>Class Method</td>
    <td><code><a href="#from_v1" class="internal-link" title="fabric.connection.Connection.from_v1">from<wbr></wbr>_v1</a></code></td>
    <td>Alternate constructor which uses Fabric 1's ``env`` dict for settings.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__enter__" class="internal-link" title="fabric.connection.Connection.__enter__">__enter__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__eq__" class="internal-link" title="fabric.connection.Connection.__eq__">__eq__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__exit__" class="internal-link" title="fabric.connection.Connection.__exit__">__exit__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__hash__" class="internal-link" title="fabric.connection.Connection.__hash__">__hash__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="fabric.connection.Connection.__init__">__init__</a></code></td>
    <td>Set up a new object representing a server connection.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__lt__" class="internal-link" title="fabric.connection.Connection.__lt__">__lt__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__repr__" class="internal-link" title="fabric.connection.Connection.__repr__">__repr__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#close" class="internal-link" title="fabric.connection.Connection.close">close</a></code></td>
    <td>Terminate the network connection to the remote end, if open.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#create_session" class="internal-link" title="fabric.connection.Connection.create_session">create<wbr></wbr>_session</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#derive_shorthand" class="internal-link" title="fabric.connection.Connection.derive_shorthand">derive<wbr></wbr>_shorthand</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#forward_local" class="internal-link" title="fabric.connection.Connection.forward_local">forward<wbr></wbr>_local</a></code></td>
    <td>Open a tunnel connecting ``local_port`` to the server's environment.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#forward_remote" class="internal-link" title="fabric.connection.Connection.forward_remote">forward<wbr></wbr>_remote</a></code></td>
    <td>Open a tunnel connecting ``remote_port`` to the local environment.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get" class="internal-link" title="fabric.connection.Connection.get">get</a></code></td>
    <td>Get a remote file to the local filesystem or file-like object.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_gateway" class="internal-link" title="fabric.connection.Connection.get_gateway">get<wbr></wbr>_gateway</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#local" class="internal-link" title="fabric.connection.Connection.local">local</a></code></td>
    <td>Execute a shell command on the local system.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#open" class="internal-link" title="fabric.connection.Connection.open">open</a></code></td>
    <td>Initiate an SSH connection to the host/port this object is bound to.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#open_gateway" class="internal-link" title="fabric.connection.Connection.open_gateway">open<wbr></wbr>_gateway</a></code></td>
    <td>Obtain a socket-like object from `gateway`.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#put" class="internal-link" title="fabric.connection.Connection.put">put</a></code></td>
    <td>Put a local file (or file-like object) to the remote filesystem.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#resolve_connect_kwargs" class="internal-link" title="fabric.connection.Connection.resolve_connect_kwargs">resolve<wbr></wbr>_connect<wbr></wbr>_kwargs</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#run" class="internal-link" title="fabric.connection.Connection.run">run</a></code></td>
    <td>Execute a shell command on the remote end of this connection.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#sftp" class="internal-link" title="fabric.connection.Connection.sftp">sftp</a></code></td>
    <td>Return a `~paramiko.sftp_client.SFTPClient` object.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#shell" class="internal-link" title="fabric.connection.Connection.shell">shell</a></code></td>
    <td>Run an interactive login shell on the remote end, as with ``ssh``.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#sudo" class="internal-link" title="fabric.connection.Connection.sudo">sudo</a></code></td>
    <td>Execute a shell command, via ``sudo``, on the remote end.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#client" class="internal-link" title="fabric.connection.Connection.client">client</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#connect_kwargs" class="internal-link" title="fabric.connection.Connection.connect_kwargs">connect<wbr></wbr>_kwargs</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#connect_timeout" class="internal-link" title="fabric.connection.Connection.connect_timeout">connect<wbr></wbr>_timeout</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#forward_agent" class="internal-link" title="fabric.connection.Connection.forward_agent">forward<wbr></wbr>_agent</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#gateway" class="internal-link" title="fabric.connection.Connection.gateway">gateway</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#host" class="internal-link" title="fabric.connection.Connection.host">host</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#inline_ssh_env" class="internal-link" title="fabric.connection.Connection.inline_ssh_env">inline<wbr></wbr>_ssh<wbr></wbr>_env</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#original_host" class="internal-link" title="fabric.connection.Connection.original_host">original<wbr></wbr>_host</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#port" class="internal-link" title="fabric.connection.Connection.port">port</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#ssh_config" class="internal-link" title="fabric.connection.Connection.ssh_config">ssh<wbr></wbr>_config</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#transport" class="internal-link" title="fabric.connection.Connection.transport">transport</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#user" class="internal-link" title="fabric.connection.Connection.user">user</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="property">
    
    <td>Property</td>
    <td><code><a href="#is_connected" class="internal-link" title="fabric.connection.Connection.is_connected">is<wbr></wbr>_connected</a></code></td>
    <td>Whether or not this connection is actually open.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_identity" class="internal-link" title="fabric.connection.Connection._identity">_identity</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_remote_runner" class="internal-link" title="fabric.connection.Connection._remote_runner">_remote<wbr></wbr>_runner</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_agent_handler" class="internal-link" title="fabric.connection.Connection._agent_handler">_agent<wbr></wbr>_handler</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_sftp" class="internal-link" title="fabric.connection.Connection._sftp">_sftp</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="baseclassmethod">
  
  
  <a name="fabric.connection.Connection.from_v1">
    
  </a>
  <a name="from_v1">
    
  </a>
  <div class="functionHeader">
    
    @<a href="https://docs.python.org/3/library/functions.html#classmethod" class="intersphinx-link">classmethod</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">from_v1</span><span class="function-signature">(cls, env, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L144">
      
      (source)
    </a>
    <a class="headerLink" href="#from_v1" title="fabric.connection.Connection.from_v1">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Alternate constructor which uses Fabric 1's ``env`` dict for settings.

All keyword arguments besides ``env`` are passed unmolested into the
primary constructor.

.. warning::
    Because your own config overrides will win over data from ``env``,
    make sure you only set values you *intend* to change from your v1
    environment!

For details on exactly which ``env`` vars are imported and what they
become in the new API, please see :ref:`v1-env-var-imports`.

:param env:
    An explicit Fabric 1 ``env`` dict (technically, any
    ``fabric.utils._AttributeDict`` instance should work) to pull
    configuration from.

.. versionadded:: 2.4</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__enter__">
    
  </a>
  <a name="__enter__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__enter__</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L730">
      
      (source)
    </a>
    <a class="headerLink" href="#__enter__" title="fabric.connection.Connection.__enter__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__eq__">
    
  </a>
  <a name="__eq__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__eq__</span><span class="function-signature">(self, other)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L561">
      
      (source)
    </a>
    <a class="headerLink" href="#__eq__" title="fabric.connection.Connection.__eq__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__exit__">
    
  </a>
  <a name="__exit__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__exit__</span><span class="function-signature">(self, *exc)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L733">
      
      (source)
    </a>
    <a class="headerLink" href="#__exit__" title="fabric.connection.Connection.__exit__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__hash__">
    
  </a>
  <a name="__hash__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__hash__</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L569">
      
      (source)
    </a>
    <a class="headerLink" href="#__hash__" title="fabric.connection.Connection.__hash__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span><span class="function-signature">(self, host, user=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, port=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, config=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, gateway=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, forward_agent=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, connect_timeout=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, connect_kwargs=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, inline_ssh_env=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L209">
      
      (source)
    </a>
    <a class="headerLink" href="#__init__" title="fabric.connection.Connection.__init__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Set up a new object representing a server connection.

:param str host:
    the hostname (or IP address) of this connection.

    May include shorthand for the ``user`` and/or ``port`` parameters,
    of the form ``user@host``, ``host:port``, or ``user@host:port``.

    .. note::
        Due to ambiguity, IPv6 host addresses are incompatible with the
        ``host:port`` shorthand (though ``user@host`` will still work
        OK). In other words, the presence of &gt;1 ``:`` character will
        prevent any attempt to derive a shorthand port number; use the
        explicit ``port`` parameter instead.

    .. note::
        If ``host`` matches a ``Host`` clause in loaded SSH config
        data, and that ``Host`` clause contains a ``Hostname``
        directive, the resulting `.Connection` object will behave as if
        ``host`` is equal to that ``Hostname`` value.

        In all cases, the original value of ``host`` is preserved as
        the ``original_host`` attribute.

        Thus, given SSH config like so::

            Host myalias
                Hostname realhostname

        a call like ``Connection(host='myalias')`` will result in an
        object whose ``host`` attribute is ``realhostname``, and whose
        ``original_host`` attribute is ``myalias``.

:param str user:
    the login user for the remote connection. Defaults to
    ``config.user``.

:param int port:
    the remote port. Defaults to ``config.port``.

:param config:
    configuration settings to use when executing methods on this
    `.Connection` (e.g. default SSH port and so forth).

    Should be a `.Config` or an `invoke.config.Config`
    (which will be turned into a `.Config`).

    Default is an anonymous `.Config` object.

:param gateway:
    An object to use as a proxy or gateway for this connection.

    This parameter accepts one of the following:

    - another `.Connection` (for a ``ProxyJump`` style gateway);
    - a shell command string (for a ``ProxyCommand`` style style
      gateway).

    Default: ``None``, meaning no gatewaying will occur (unless
    otherwise configured; if one wants to override a configured gateway
    at runtime, specify ``gateway=False``.)

    .. seealso:: :ref:`ssh-gateways`

:param bool forward_agent:
    Whether to enable SSH agent forwarding.

    Default: ``config.forward_agent``.

:param int connect_timeout:
    Connection timeout, in seconds.

    Default: ``config.timeouts.connect``.


:param dict connect_kwargs:

    .. _connect_kwargs-arg:

    Keyword arguments handed verbatim to
    `SSHClient.connect &lt;paramiko.client.SSHClient.connect&gt;` (when
    `.open` is called).

    `.Connection` tries not to grow additional settings/kwargs of its
    own unless it is adding value of some kind; thus,
    ``connect_kwargs`` is currently the right place to hand in paramiko
    connection parameters such as ``pkey`` or ``key_filename``. For
    example::

        c = Connection(
            host="hostname",
            user="admin",
            connect_kwargs={
                "key_filename": "/home/myuser/.ssh/private.key",
            },
        )

    Default: ``config.connect_kwargs``.

:param bool inline_ssh_env:
    Whether to send environment variables "inline" as prefixes in front
    of command strings (``export VARNAME=value &amp;&amp; mycommand here``;
    this is the default behavior), or submit them through the SSH
    protocol itself.

    In Fabric 2.x this defaulted to ``False`` (try using the protocol
    behavior), but in 3.x it changed to ``True`` due to the simple fact
    that most remote servers are deployed with a restricted
    ``AcceptEnv`` setting, making use of the protocol approach
    non-viable.

    The actual default value is the value of the ``inline_ssh_env``
    :ref:`configuration value &lt;default-values&gt;` (which, as above,
    currently defaults to ``True``).

    .. warning::
        This functionality does **not** currently perform any shell
        escaping on your behalf! Be careful when using nontrivial
        values, and note that you can put in your own quoting,
        backslashing etc if desired.

        Consider using a different approach (such as actual
        remote shell scripts) if you run into too many issues here.

    .. note::
        When serializing into prefixed ``FOO=bar`` format, we apply the
        builtin `sorted` function to the env dictionary's keys, to
        remove what would otherwise be ambiguous/arbitrary ordering.

    .. note::
        This setting has no bearing on *local* shell commands; it only
        affects remote commands, and thus, methods like `.run` and
        `.sudo`.

:raises ValueError:
    if user or port values are given via both ``host`` shorthand *and*
    their own arguments. (We `refuse the temptation to guess`_).

.. _refuse the temptation to guess:
    http://zen-of-python.info/
    in-the-face-of-ambiguity-refuse-the-temptation-to-guess.html#12

.. versionchanged:: 2.3
    Added the ``inline_ssh_env`` parameter.

.. versionchanged:: 3.0
    ``inline_ssh_env`` still defaults to the config value, but said
    config value has now changed and defaults to ``True``, not
    ``False``.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__lt__">
    
  </a>
  <a name="__lt__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__lt__</span><span class="function-signature">(self, other)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L566">
      
      (source)
    </a>
    <a class="headerLink" href="#__lt__" title="fabric.connection.Connection.__lt__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.__repr__">
    
  </a>
  <a name="__repr__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__repr__</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L530">
      
      (source)
    </a>
    <a class="headerLink" href="#__repr__" title="fabric.connection.Connection.__repr__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.close">
    
  </a>
  <a name="close">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">close</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L709">
      
      (source)
    </a>
    <a class="headerLink" href="#close" title="fabric.connection.Connection.close">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Terminate the network connection to the remote end, if open.

If any SFTP sessions are open, they will also be closed.

If no connection or SFTP session is open, this method does nothing.

.. versionadded:: 2.0
.. versionchanged:: 3.0
    Now closes SFTP sessions too (2.x required manually doing so).</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.create_session">
    
  </a>
  <a name="create_session">
    
  </a>
  <div class="functionHeader">
    
    @<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">create_session</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L736">
      
      (source)
    </a>
    <a class="headerLink" href="#create_session" title="fabric.connection.Connection.create_session">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.derive_shorthand">
    
  </a>
  <a name="derive_shorthand">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">derive_shorthand</span><span class="function-signature">(self, host_string)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L574">
      
      (source)
    </a>
    <a class="headerLink" href="#derive_shorthand" title="fabric.connection.Connection.derive_shorthand">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.forward_local">
    
  </a>
  <a name="forward_local">
    
  </a>
  <div class="functionHeader">
    
    @<a href="https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager" class="intersphinx-link">contextmanager</a><br />@<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">forward_local</span><span class="function-signature">(self, local_port, remote_port=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, remote_host=<span class="rst-variable-quote">'</span><span class="rst-variable-string">localhost</span><span class="rst-variable-quote">'</span>, local_host=<span class="rst-variable-quote">'</span><span class="rst-variable-string">localhost</span><span class="rst-variable-quote">'</span>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L913">
      
      (source)
    </a>
    <a class="headerLink" href="#forward_local" title="fabric.connection.Connection.forward_local">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Open a tunnel connecting ``local_port`` to the server's environment.

For example, say you want to connect to a remote PostgreSQL database
which is locked down and only accessible via the system it's running
on. You have SSH access to this server, so you can temporarily make
port 5432 on your local system act like port 5432 on the server::

    import psycopg2
    from fabric import Connection

    with Connection('my-db-server').forward_local(5432):
        db = psycopg2.connect(
            host='localhost', port=5432, database='mydb'
        )
        # Do things with 'db' here

This method is analogous to using the ``-L`` option of OpenSSH's
``ssh`` program.

:param int local_port: The local port number on which to listen.

:param int remote_port:
    The remote port number. Defaults to the same value as
    ``local_port``.

:param str local_host:
    The local hostname/interface on which to listen. Default:
    ``localhost``.

:param str remote_host:
    The remote hostname serving the forwarded remote port. Default:
    ``localhost`` (i.e., the host this `.Connection` is connected to.)

:returns:
    Nothing; this method is only useful as a context manager affecting
    local operating system state.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.forward_remote">
    
  </a>
  <a name="forward_remote">
    
  </a>
  <div class="functionHeader">
    
    @<a href="https://docs.python.org/3/library/contextlib.html#contextlib.contextmanager" class="intersphinx-link">contextmanager</a><br />@<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">forward_remote</span><span class="function-signature">(self, remote_port, local_port=<a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, remote_host=<span class="rst-variable-quote">'</span><span class="rst-variable-string">127.0.0.1</span><span class="rst-variable-quote">'</span>, local_host=<span class="rst-variable-quote">'</span><span class="rst-variable-string">localhost</span><span class="rst-variable-quote">'</span>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L1012">
      
      (source)
    </a>
    <a class="headerLink" href="#forward_remote" title="fabric.connection.Connection.forward_remote">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Open a tunnel connecting ``remote_port`` to the local environment.

For example, say you're running a daemon in development mode on your
workstation at port 8080, and want to funnel traffic to it from a
production or staging environment.

In most situations this isn't possible as your office/home network
probably blocks inbound traffic. But you have SSH access to this
server, so you can temporarily make port 8080 on that server act like
port 8080 on your workstation::

    from fabric import Connection

    c = Connection('my-remote-server')
    with c.forward_remote(8080):
        c.run("remote-data-writer --port 8080")
        # Assuming remote-data-writer runs until interrupted, this will
        # stay open until you Ctrl-C...

This method is analogous to using the ``-R`` option of OpenSSH's
``ssh`` program.

:param int remote_port: The remote port number on which to listen.

:param int local_port:
    The local port number. Defaults to the same value as
    ``remote_port``.

:param str local_host:
    The local hostname/interface the forwarded connection talks to.
    Default: ``localhost``.

:param str remote_host:
    The remote interface address to listen on when forwarding
    connections. Default: ``127.0.0.1`` (i.e. only listen on the remote
    localhost).

:returns:
    Nothing; this method is only useful as a context manager affecting
    local operating system state.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.get">
    
  </a>
  <a name="get">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">get</span><span class="function-signature">(self, *args, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L888">
      
      (source)
    </a>
    <a class="headerLink" href="#get" title="fabric.connection.Connection.get">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Get a remote file to the local filesystem or file-like object.

Simply a wrapper for `.Transfer.get`. Please see its documentation for
all details.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.get_gateway">
    
  </a>
  <a name="get_gateway">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">get_gateway</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L500">
      
      (source)
    </a>
    <a class="headerLink" href="#get_gateway" title="fabric.connection.Connection.get_gateway">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.local">
    
  </a>
  <a name="local">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">local</span><span class="function-signature">(self, *args, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L859">
      
      (source)
    </a>
    <a class="headerLink" href="#local" title="fabric.connection.Connection.local">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Execute a shell command on the local system.

This method is effectively a wrapper of `invoke.run`; see its docs for
details and call signature.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.open">
    
  </a>
  <a name="open">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">open</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L589">
      
      (source)
    </a>
    <a class="headerLink" href="#open" title="fabric.connection.Connection.open">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Initiate an SSH connection to the host/port this object is bound to.

This may include activating the configured gateway connection, if one
is set.

Also saves a handle to the now-set Transport object for easier access.

Various connect-time settings (and/or their corresponding :ref:`SSH
config options &lt;ssh-config&gt;`) are utilized here in the call to
`SSHClient.connect &lt;paramiko.client.SSHClient.connect&gt;`. (For details,
see :doc:`the configuration docs &lt;/concepts/configuration&gt;`.)

:returns:
    The result of the internal call to `.SSHClient.connect`, if
    performing an initial connection; ``None`` otherwise.

.. versionadded:: 2.0
.. versionchanged:: 3.1
    Now returns the inner Paramiko connect call's return value instead
    of always returning the implicit ``None``.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.open_gateway">
    
  </a>
  <a name="open_gateway">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">open_gateway</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L669">
      
      (source)
    </a>
    <a class="headerLink" href="#open_gateway" title="fabric.connection.Connection.open_gateway">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Obtain a socket-like object from `gateway`.

:returns:
    A ``direct-tcpip`` `paramiko.channel.Channel`, if `gateway` was a
    `.Connection`; or a `~paramiko.proxy.ProxyCommand`, if `gateway`
    was a string.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.put">
    
  </a>
  <a name="put">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">put</span><span class="function-signature">(self, *args, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L899">
      
      (source)
    </a>
    <a class="headerLink" href="#put" title="fabric.connection.Connection.put">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Put a local file (or file-like object) to the remote filesystem.

Simply a wrapper for `.Transfer.put`. Please see its documentation for
all details.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.resolve_connect_kwargs">
    
  </a>
  <a name="resolve_connect_kwargs">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">resolve_connect_kwargs</span><span class="function-signature">(self, connect_kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L471">
      
      (source)
    </a>
    <a class="headerLink" href="#resolve_connect_kwargs" title="fabric.connection.Connection.resolve_connect_kwargs">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.run">
    
  </a>
  <a name="run">
    
  </a>
  <div class="functionHeader">
    
    @<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">run</span><span class="function-signature">(self, command, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L748">
      
      (source)
    </a>
    <a class="headerLink" href="#run" title="fabric.connection.Connection.run">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Execute a shell command on the remote end of this connection.

This method wraps an SSH-capable implementation of
`invoke.runners.Runner.run`; see its documentation for details.

.. warning::
    There are a few spots where Fabric departs from Invoke's default
    settings/behaviors; they are documented under
    `.Config.global_defaults`.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.sftp">
    
  </a>
  <a name="sftp">
    
  </a>
  <div class="functionHeader">
    
    @<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">sftp</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L872">
      
      (source)
    </a>
    <a class="headerLink" href="#sftp" title="fabric.connection.Connection.sftp">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Return a `~paramiko.sftp_client.SFTPClient` object.

If called more than one time, memoizes the first result; thus, any
given `.Connection` instance will only ever have a single SFTP client,
and state (such as that managed by
`~paramiko.sftp_client.SFTPClient.chdir`) will be preserved.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.shell">
    
  </a>
  <a name="shell">
    
  </a>
  <div class="functionHeader">
    
    @<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">shell</span><span class="function-signature">(self, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L779">
      
      (source)
    </a>
    <a class="headerLink" href="#shell" title="fabric.connection.Connection.shell">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Run an interactive login shell on the remote end, as with ``ssh``.

This method is intended strictly for use cases where you can't know
what remote shell to invoke, or are connecting to a non-POSIX-server
environment such as a network appliance or other custom SSH server.
Nearly every other use case, including interactively-focused ones, will
be better served by using `run` plus an explicit remote shell command
(eg ``bash``).

`shell` has the following differences in behavior from `run`:

- It still returns a `~invoke.runners.Result` instance, but the object
  will have a less useful set of attributes than with `run` or `local`:

    - ``command`` will be ``None``, as there is no such input argument.
    - ``stdout`` will contain a full record of the session, including
      all interactive input, as that is echoed back to the user. This
      can be useful for logging but is much less so for doing
      programmatic things after the method returns.
    - ``stderr`` will always be empty (same as `run` when
      ``pty==True``).
    - ``pty`` will always be True (because one was automatically used).
    - ``exited`` and similar attributes will only reflect the overall
      session, which may vary by shell or appliance but often has no
      useful relationship with the internally executed commands' exit
      codes.

- This method behaves as if ``warn`` is set to ``True``: even if the
  remote shell exits uncleanly, no exception will be raised.
- A pty is always allocated remotely, as with ``pty=True`` under `run`.
- The ``inline_env`` setting is ignored, as there is no default shell
  command to add the parameters to (and no guarantee the remote end
  even is a shell!)

It supports **only** the following kwargs, which behave identically to
their counterparts in `run` unless otherwise stated:

- ``encoding``
- ``env``
- ``in_stream`` (useful in niche cases, but make sure regular `run`
  with this argument isn't more suitable!)
- ``replace_env``
- ``watchers`` (note that due to pty echoing your stdin back to stdout,
  a watcher will see your input as well as program stdout!)

Those keyword arguments also honor the ``run.*`` configuration tree, as
in `run`/`sudo`.

:returns: `~invoke.runners.Result`

:raises:
    `~invoke.exceptions.ThreadException` (if the background I/O threads
    encountered exceptions other than
    `~invoke.exceptions.WatcherError`).

.. versionadded:: 2.7</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="fabric.connection.Connection.sudo">
    
  </a>
  <a name="sudo">
    
  </a>
  <div class="functionHeader">
    
    @<a href="fabric.connection.html#opens" class="internal-link" title="fabric.connection.opens">opens</a><br />
    <span class="py-keyword">def</span> <span class="py-defname">sudo</span><span class="function-signature">(self, command, **kwargs)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L765">
      
      (source)
    </a>
    <a class="headerLink" href="#sudo" title="fabric.connection.Connection.sudo">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Execute a shell command, via ``sudo``, on the remote end.

This method is identical to `invoke.context.Context.sudo` in every way,
except in that -- like `run` -- it honors per-host/per-connection
configuration overrides in addition to the generic/global ones. Thus,
for example, per-host sudo passwords may be configured.

.. versionadded:: 2.0</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.client">
    
  </a>
  <a name="client">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">client</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L139">
      
      (source)
    </a>
    <a class="headerLink" href="#client" title="fabric.connection.Connection.client">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.connect_kwargs">
    
  </a>
  <a name="connect_kwargs">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">connect_kwargs</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L138">
      
      (source)
    </a>
    <a class="headerLink" href="#connect_kwargs" title="fabric.connection.Connection.connect_kwargs">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.connect_timeout">
    
  </a>
  <a name="connect_timeout">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">connect_timeout</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L137">
      
      (source)
    </a>
    <a class="headerLink" href="#connect_timeout" title="fabric.connection.Connection.connect_timeout">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.forward_agent">
    
  </a>
  <a name="forward_agent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">forward_agent</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L136">
      
      (source)
    </a>
    <a class="headerLink" href="#forward_agent" title="fabric.connection.Connection.forward_agent">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.gateway">
    
  </a>
  <a name="gateway">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">gateway</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L135">
      
      (source)
    </a>
    <a class="headerLink" href="#gateway" title="fabric.connection.Connection.gateway">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.host">
    
  </a>
  <a name="host">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">host</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L130">
      
      (source)
    </a>
    <a class="headerLink" href="#host" title="fabric.connection.Connection.host">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.inline_ssh_env">
    
  </a>
  <a name="inline_ssh_env">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">inline_ssh_env</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L469">
      
      (source)
    </a>
    <a class="headerLink" href="#inline_ssh_env" title="fabric.connection.Connection.inline_ssh_env">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.original_host">
    
  </a>
  <a name="original_host">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">original_host</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L131">
      
      (source)
    </a>
    <a class="headerLink" href="#original_host" title="fabric.connection.Connection.original_host">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.port">
    
  </a>
  <a name="port">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">port</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L133">
      
      (source)
    </a>
    <a class="headerLink" href="#port" title="fabric.connection.Connection.port">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.ssh_config">
    
  </a>
  <a name="ssh_config">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">ssh_config</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L134">
      
      (source)
    </a>
    <a class="headerLink" href="#ssh_config" title="fabric.connection.Connection.ssh_config">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.transport">
    
  </a>
  <a name="transport">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">transport</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L140">
      
      (source)
    </a>
    <a class="headerLink" href="#transport" title="fabric.connection.Connection.transport">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="fabric.connection.Connection.user">
    
  </a>
  <a name="user">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">user</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L132">
      
      (source)
    </a>
    <a class="headerLink" href="#user" title="fabric.connection.Connection.user">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseproperty">
  
  
  <a name="fabric.connection.Connection.is_connected">
    
  </a>
  <a name="is_connected">
    
  </a>
  <div class="functionHeader">
    @<a href="https://docs.python.org/3/library/functions.html#property" class="intersphinx-link">property</a><br />
    <span class="py-defname">is_connected</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L580">
      
      (source)
    </a>
    <a class="headerLink" href="#is_connected" title="fabric.connection.Connection.is_connected">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="pre">Whether or not this connection is actually open.

.. versionadded:: 2.0</p></div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="fabric.connection.Connection._identity">
    
  </a>
  <a name="_identity">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_identity</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L555">
      
      (source)
    </a>
    <a class="headerLink" href="#_identity" title="fabric.connection.Connection._identity">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="fabric.connection.Connection._remote_runner">
    
  </a>
  <a name="_remote_runner">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">_remote_runner</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L743">
      
      (source)
    </a>
    <a class="headerLink" href="#_remote_runner" title="fabric.connection.Connection._remote_runner">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="fabric.connection.Connection._agent_handler">
    
  </a>
  <a name="_agent_handler">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_agent_handler</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L142">
      
      (source)
    </a>
    <a class="headerLink" href="#_agent_handler" title="fabric.connection.Connection._agent_handler">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="fabric.connection.Connection._sftp">
    
  </a>
  <a name="_sftp">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_sftp</span> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/fabric-3.1.0//fabric/connection.py#L141">
      
      (source)
    </a>
    <a class="headerLink" href="#_sftp" title="fabric.connection.Connection._sftp">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for fabric,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    23.4.1.dev0 at 2023-05-26 00:57:05.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>