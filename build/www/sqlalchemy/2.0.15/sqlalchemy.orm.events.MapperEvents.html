<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>sqlalchemy.orm.events.MapperEvents</title>
    <meta name="generator" content="pydoctor 23.4.0.dev0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    <div id="banner">    
    <div>
        <a href="/">Home</a>
        &gt; sqlalchemy-2.0.15 <!-- This is a placeholder -->
        
        <!-- (<a href=""&gt;show all versions</a&gt;) -->
    </div>
</div>

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          sqlalchemy <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Class</span>
        <code class="thisobject"><a href="sqlalchemy.orm.events.MapperEvents.html" class="internal-link" title="This class"><wbr></wbr>Mapper<wbr></wbr>Events</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#after_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_configured">after<wbr></wbr>_configured</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#after_delete" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_delete">after<wbr></wbr>_delete</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#after_insert" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_insert">after<wbr></wbr>_insert</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#after_mapper_constructed" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_mapper_constructed">after<wbr></wbr>_mapper<wbr></wbr>_constructed</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#after_update" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_update">after<wbr></wbr>_update</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#before_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_configured">before<wbr></wbr>_configured</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#before_delete" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_delete">before<wbr></wbr>_delete</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#before_insert" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_insert">before<wbr></wbr>_insert</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#before_mapper_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_mapper_configured">before<wbr></wbr>_mapper<wbr></wbr>_configured</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#before_update" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_update">before<wbr></wbr>_update</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#instrument_class" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.instrument_class">instrument<wbr></wbr>_class</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#mapper_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.mapper_configured">mapper<wbr></wbr>_configured</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_accept_with" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._accept_with">_accept<wbr></wbr>_with</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_clear" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._clear">_clear</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_listen" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._listen">_listen</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_new_mapper_instance" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._new_mapper_instance">_new<wbr></wbr>_mapper<wbr></wbr>_instance</a></code>
            </div>
        

    </li>
</ul> 

        <div class="childrenKindTitle">Inherited Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#__getattr__" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch.__getattr__">__getattr__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#__init_subclass__" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch.__init_subclass__">__init<wbr></wbr>_subclass__</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#_create_dispatcher_class" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch._create_dispatcher_class">_create<wbr></wbr>_dispatcher<wbr></wbr>_class</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base.Events.html#_remove" class="internal-link" title="sqlalchemy.event.base.Events._remove">_remove</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#_set_dispatch" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch._set_dispatch">_set<wbr></wbr>_dispatch</a></code>
            </div>
        

    </li>
</ul> 

        <div class="childrenKindTitle">Attributes</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_target_class_doc" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._target_class_doc">_target<wbr></wbr>_class<wbr></wbr>_doc</a></code>
            </div>
        

    </li>
</ul> 

        <div class="childrenKindTitle">Inherited Attributes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#dispatch" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch.dispatch">dispatch</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#_dispatch_target" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch._dispatch_target">_dispatch<wbr></wbr>_target</a></code>
            </div>
        

    </li>
</ul> 
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Module</span>
        <code><a href="sqlalchemy.orm.events.html" class="internal-link" title="The parent of this class">events</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.AttributeEvents.html" class="internal-link" title="sqlalchemy.orm.events.AttributeEvents"><wbr></wbr>Attribute<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.InstanceEvents.html" class="internal-link" title="sqlalchemy.orm.events.InstanceEvents"><wbr></wbr>Instance<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.InstrumentationEvents.html" class="internal-link" title="sqlalchemy.orm.events.InstrumentationEvents"><wbr></wbr>Instrumentation<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.MapperEvents.html" class="internal-link" title="sqlalchemy.orm.events.MapperEvents"><wbr></wbr>Mapper<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.QueryEvents.html" class="internal-link" title="sqlalchemy.orm.events.QueryEvents"><wbr></wbr>Query<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.SessionEvents.html" class="internal-link" title="sqlalchemy.orm.events.SessionEvents"><wbr></wbr>Session<wbr></wbr>Events</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events._EventsHold.html" class="internal-link" title="sqlalchemy.orm.events._EventsHold">_<wbr></wbr>Events<wbr></wbr>Hold</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events._InstanceEventsHold.html" class="internal-link" title="sqlalchemy.orm.events._InstanceEventsHold">_<wbr></wbr>Instance<wbr></wbr>Events<wbr></wbr>Hold</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events._InstrumentationEventsHold.html" class="internal-link" title="sqlalchemy.orm.events._InstrumentationEventsHold">_<wbr></wbr>Instrumentation<wbr></wbr>Events<wbr></wbr>Hold</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events._MapperEventsHold.html" class="internal-link" title="sqlalchemy.orm.events._MapperEventsHold">_<wbr></wbr>Mapper<wbr></wbr>Events<wbr></wbr>Hold</a></code>
            </div>
        

    </li>
</ul>

        
         

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.html#_ET2" class="internal-link" title="sqlalchemy.orm.events._ET2">_ET2</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.html#_KT" class="internal-link" title="sqlalchemy.orm.events._KT">_KT</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="sqlalchemy.orm.events.html#_sessionevents_lifecycle_event_names" class="internal-link" title="sqlalchemy.orm.events._sessionevents_lifecycle_event_names">_sessionevents<wbr></wbr>_lifecycle<wbr></wbr>_event<wbr></wbr>_names</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="class"><code><code><a href="index.html" class="internal-link">sqlalchemy</a></code><wbr></wbr>.<code><a href="sqlalchemy.orm.html" class="internal-link" title="sqlalchemy.orm">orm</a></code><wbr></wbr>.<code><a href="sqlalchemy.orm.events.html" class="internal-link" title="sqlalchemy.orm.events">events</a></code><wbr></wbr>.<code><a href="sqlalchemy.orm.events.MapperEvents.html" class="internal-link" title="sqlalchemy.orm.events.MapperEvents">MapperEvents</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          class documentation
        </div>

        <div class="extrasDocstring">
          <p class="class-signature"><code><span class="py-keyword">class</span> <span class="py-defname">MapperEvents</span>(<a href="sqlalchemy.event.base.Events.html" class="internal-link" title="sqlalchemy.event.base.Events">event.Events</a>[<wbr></wbr>mapperlib.Mapper[<wbr></wbr>Any]]): <a href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L741" class="sourceLink">(source)</a></code></p><p>Known subclasses: <code><a href="sqlalchemy.orm.events._MapperEventsHold.HoldMapperEvents.html" class="internal-link">sqlalchemy.orm.events._MapperEventsHold.HoldMapperEvents</a></code></p>
          <p><a href="classIndex.html#sqlalchemy.orm.events.MapperEvents">View In Hierarchy</a></p>
        </div>

        <div class="moduleDocstring">
          <div><p class="pre">Define events specific to mappings.

e.g.::

    from sqlalchemy import event

    def my_before_insert_listener(mapper, connection, target):
        # execute a stored procedure upon INSERT,
        # apply the value to the row to be inserted
        target.calculated_value = connection.execute(
            text("select my_special_function(%d)" % target.special_number)
        ).scalar()

    # associate the listener function with SomeClass,
    # to execute during the "before_insert" hook
    event.listen(
        SomeClass, 'before_insert', my_before_insert_listener)

Available targets include:

* mapped classes
* unmapped superclasses of mapped or to-be-mapped classes
  (using the ``propagate=True`` flag)
* :class:`_orm.Mapper` objects
* the :class:`_orm.Mapper` class itself indicates listening for all
  mappers.

Mapper events provide hooks into critical sections of the
mapper, including those related to object instrumentation,
object loading, and object persistence. In particular, the
persistence methods :meth:`~.MapperEvents.before_insert`,
and :meth:`~.MapperEvents.before_update` are popular
places to augment the state being persisted - however, these
methods operate with several significant restrictions. The
user is encouraged to evaluate the
:meth:`.SessionEvents.before_flush` and
:meth:`.SessionEvents.after_flush` methods as more
flexible and user-friendly hooks in which to apply
additional database state during a flush.

When using :class:`.MapperEvents`, several modifiers are
available to the :func:`.event.listen` function.

:param propagate=False: When True, the event listener should
   be applied to all inheriting mappers and/or the mappers of
   inheriting classes, as well as any
   mapper which is the target of this listener.
:param raw=False: When True, the "target" argument passed
   to applicable event listener functions will be the
   instance's :class:`.InstanceState` management
   object, rather than the mapped instance itself.
:param retval=False: when True, the user-defined event function
   must have a return value, the purpose of which is either to
   control subsequent event propagation, or to otherwise alter
   the operation in progress by the mapper.   Possible return
   values are:

   * ``sqlalchemy.orm.interfaces.EXT_CONTINUE`` - continue event
     processing normally.
   * ``sqlalchemy.orm.interfaces.EXT_STOP`` - cancel all subsequent
     event handlers in the chain.
   * other values - the return value specified by specific listeners.</p></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id3602">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#after_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_configured">after<wbr></wbr>_configured</a></code></td>
    <td>Called after a series of mappers have been configured.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#after_delete" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_delete">after<wbr></wbr>_delete</a></code></td>
    <td>Receive an object instance after a DELETE statement has been emitted corresponding to that instance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#after_insert" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_insert">after<wbr></wbr>_insert</a></code></td>
    <td>Receive an object instance after an INSERT statement is emitted corresponding to that instance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#after_mapper_constructed" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_mapper_constructed">after<wbr></wbr>_mapper<wbr></wbr>_constructed</a></code></td>
    <td>Receive a class and mapper when the :class:`_orm.Mapper` has been fully constructed.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#after_update" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.after_update">after<wbr></wbr>_update</a></code></td>
    <td>Receive an object instance after an UPDATE statement is emitted corresponding to that instance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#before_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_configured">before<wbr></wbr>_configured</a></code></td>
    <td>Called before a series of mappers have been configured.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#before_delete" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_delete">before<wbr></wbr>_delete</a></code></td>
    <td>Receive an object instance before a DELETE statement is emitted corresponding to that instance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#before_insert" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_insert">before<wbr></wbr>_insert</a></code></td>
    <td>Receive an object instance before an INSERT statement is emitted corresponding to that instance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#before_mapper_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_mapper_configured">before<wbr></wbr>_mapper<wbr></wbr>_configured</a></code></td>
    <td>Called right before a specific mapper is to be configured.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#before_update" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.before_update">before<wbr></wbr>_update</a></code></td>
    <td>Receive an object instance before an UPDATE statement is emitted corresponding to that instance.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#instrument_class" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.instrument_class">instrument<wbr></wbr>_class</a></code></td>
    <td>Receive a class when the mapper is first constructed, before instrumentation is applied to the mapped class.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#mapper_configured" class="internal-link" title="sqlalchemy.orm.events.MapperEvents.mapper_configured">mapper<wbr></wbr>_configured</a></code></td>
    <td>Called when a specific mapper has completed its own configuration within the scope of the :func:`.configure_mappers` call.</td>
  </tr><tr class="classmethod private">
    
    <td>Class Method</td>
    <td><code><a href="#_accept_with" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._accept_with">_accept<wbr></wbr>_with</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classmethod private">
    
    <td>Class Method</td>
    <td><code><a href="#_clear" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._clear">_clear</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classmethod private">
    
    <td>Class Method</td>
    <td><code><a href="#_listen" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._listen">_listen</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classmethod private">
    
    <td>Class Method</td>
    <td><code><a href="#_new_mapper_instance" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._new_mapper_instance">_new<wbr></wbr>_mapper<wbr></wbr>_instance</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable private">
    
    <td>Class Variable</td>
    <td><code><a href="#_target_class_doc" class="internal-link" title="sqlalchemy.orm.events.MapperEvents._target_class_doc">_target<wbr></wbr>_class<wbr></wbr>_doc</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          
            <p class="inheritedFrom">
              Inherited from <code><a href="sqlalchemy.event.base.Events.html" class="internal-link" title="sqlalchemy.event.base.Events">Events</a></code>:
            </p>
            <table class="children sortable" id="id3603">
  
  
  <tr class="baseclassmethod private">
    
    <td>Class Method</td>
    <td><code><a href="sqlalchemy.event.base.Events.html#_remove" class="internal-link" title="sqlalchemy.event.base.Events._remove">_remove</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
            
            <p class="inheritedFrom">
              Inherited from <code><a href="sqlalchemy.event.base._HasEventsDispatch.html" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch">_HasEventsDispatch</a></code> (via <code><a href="sqlalchemy.event.base.Events.html" class="internal-link" title="sqlalchemy.event.base.Events">Events</a></code>):
            </p>
            <table class="children sortable" id="id3604">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#__getattr__" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch.__getattr__">__getattr__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#__init_subclass__" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch.__init_subclass__">__init<wbr></wbr>_subclass__</a></code></td>
    <td>Intercept new Event subclasses and create associated _Dispatch classes.</td>
  </tr><tr class="baseclassvariable">
    
    <td>Class Variable</td>
    <td><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#dispatch" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch.dispatch">dispatch</a></code></td>
    <td>reference back to the _Dispatch class.</td>
  </tr><tr class="baseclassmethod private">
    
    <td>Class Method</td>
    <td><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#_create_dispatcher_class" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch._create_dispatcher_class">_create<wbr></wbr>_dispatcher<wbr></wbr>_class</a></code></td>
    <td>Create a :class:`._Dispatch` class corresponding to an :class:`.Events` class.</td>
  </tr><tr class="basestaticmethod private">
    
    <td>Static Method</td>
    <td><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#_set_dispatch" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch._set_dispatch">_set<wbr></wbr>_dispatch</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseclassvariable private">
    
    <td>Class Variable</td>
    <td><code><a href="sqlalchemy.event.base._HasEventsDispatch.html#_dispatch_target" class="internal-link" title="sqlalchemy.event.base._HasEventsDispatch._dispatch_target">_dispatch<wbr></wbr>_target</a></code></td>
    <td>class which will receive the .dispatch collection</td>
  </tr>
</table>
            

            
        </div>

        <div id="childList">
          <div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.after_configured">
    
  </a>
  <a name="after_configured">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">after_configured</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1128">
      
      (source)
    </a>
    <a class="headerLink" href="#after_configured" title="sqlalchemy.orm.events.MapperEvents.after_configured">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Called after a series of mappers have been configured.

The :meth:`.MapperEvents.after_configured` event is invoked
each time the :func:`_orm.configure_mappers` function is
invoked, after the function has completed its work.
:func:`_orm.configure_mappers` is typically invoked
automatically as mappings are first used, as well as each time
new mappers have been made available and new mapper use is
detected.

Contrast this event to the :meth:`.MapperEvents.mapper_configured`
event, which is called on a per-mapper basis while the configuration
operation proceeds; unlike that event, when this event is invoked,
all cross-configurations (e.g. backrefs) will also have been made
available for any mappers that were pending.
Also contrast to :meth:`.MapperEvents.before_configured`,
which is invoked before the series of mappers has been configured.

This event can **only** be applied to the :class:`_orm.Mapper` class,
and not to individual mappings or
mapped classes.  It is only invoked for all mappings as a whole::

    from sqlalchemy.orm import Mapper

    @event.listens_for(Mapper, "after_configured")
    def go():
        # ...

Theoretically this event is called once per
application, but is actually called any time new mappers
have been affected by a :func:`_orm.configure_mappers`
call.   If new mappings are constructed after existing ones have
already been used, this event will likely be called again.  To ensure
that a particular event is only called once and no further, the
``once=True`` argument (new in 0.9.4) can be applied::

    from sqlalchemy.orm import mapper

    @event.listens_for(mapper, "after_configured", once=True)
    def go():
        # ...

.. seealso::

    :meth:`.MapperEvents.before_mapper_configured`

    :meth:`.MapperEvents.mapper_configured`

    :meth:`.MapperEvents.before_configured`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.after_delete">
    
  </a>
  <a name="after_delete">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">after_delete</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, connection: <code>Connection</code>, target: <code><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1482">
      
      (source)
    </a>
    <a class="headerLink" href="#after_delete" title="sqlalchemy.orm.events.MapperEvents.after_delete">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive an object instance after a DELETE statement
has been emitted corresponding to that instance.

.. note:: this event **only** applies to the
   :ref:`session flush operation &lt;session_flushing&gt;`
   and does **not** apply to the ORM DML operations described at
   :ref:`orm_expression_update_delete`.  To intercept ORM
   DML events, use :meth:`_orm.SessionEvents.do_orm_execute`.

This event is used to emit additional SQL statements on
the given connection as well as to perform application
specific bookkeeping related to a deletion event.

The event is often called for a batch of objects of the
same class after their DELETE statements have been emitted at
once in a previous step.

.. warning::

    Mapper-level flush events only allow **very limited operations**,
    on attributes local to the row being operated upon only,
    as well as allowing any SQL to be emitted on the given
    :class:`_engine.Connection`.  **Please read fully** the notes
    at :ref:`session_persistence_mapper` for guidelines on using
    these methods; generally, the :meth:`.SessionEvents.before_flush`
    method should be preferred for general on-flush changes.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param connection: the :class:`_engine.Connection` being used to
 emit DELETE statements for this instance.  This
 provides a handle into the current transaction on the
 target database specific to this instance.
:param target: the mapped instance being deleted.  If
 the event is configured with ``raw=True``, this will
 instead be the :class:`.InstanceState` state-management
 object associated with the instance.
:return: No return value is supported by this event.

.. seealso::

    :ref:`session_persistence_events`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.after_insert">
    
  </a>
  <a name="after_insert">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">after_insert</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, connection: <code>Connection</code>, target: <code><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1235">
      
      (source)
    </a>
    <a class="headerLink" href="#after_insert" title="sqlalchemy.orm.events.MapperEvents.after_insert">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive an object instance after an INSERT statement
is emitted corresponding to that instance.

.. note:: this event **only** applies to the
   :ref:`session flush operation &lt;session_flushing&gt;`
   and does **not** apply to the ORM DML operations described at
   :ref:`orm_expression_update_delete`.  To intercept ORM
   DML events, use :meth:`_orm.SessionEvents.do_orm_execute`.

This event is used to modify in-Python-only
state on the instance after an INSERT occurs, as well
as to emit additional SQL statements on the given
connection.

The event is often called for a batch of objects of the
same class after their INSERT statements have been
emitted at once in a previous step. In the extremely
rare case that this is not desirable, the
:class:`_orm.Mapper` object can be configured with ``batch=False``,
which will cause batches of instances to be broken up
into individual (and more poorly performing)
event-&gt;persist-&gt;event steps.

.. warning::

    Mapper-level flush events only allow **very limited operations**,
    on attributes local to the row being operated upon only,
    as well as allowing any SQL to be emitted on the given
    :class:`_engine.Connection`.  **Please read fully** the notes
    at :ref:`session_persistence_mapper` for guidelines on using
    these methods; generally, the :meth:`.SessionEvents.before_flush`
    method should be preferred for general on-flush changes.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param connection: the :class:`_engine.Connection` being used to
 emit INSERT statements for this instance.  This
 provides a handle into the current transaction on the
 target database specific to this instance.
:param target: the mapped instance being persisted.  If
 the event is configured with ``raw=True``, this will
 instead be the :class:`.InstanceState` state-management
 object associated with the instance.
:return: No return value is supported by this event.

.. seealso::

    :ref:`session_persistence_events`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.after_mapper_constructed">
    
  </a>
  <a name="after_mapper_constructed">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">after_mapper_constructed</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, class_: <code>Type[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L938">
      
      (source)
    </a>
    <a class="headerLink" href="#after_mapper_constructed" title="sqlalchemy.orm.events.MapperEvents.after_mapper_constructed">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive a class and mapper when the :class:`_orm.Mapper` has been
fully constructed.

This event is called after the initial constructor for
:class:`_orm.Mapper` completes.  This occurs after the
:meth:`_orm.MapperEvents.instrument_class` event and after the
:class:`_orm.Mapper` has done an initial pass of its arguments
to generate its collection of :class:`_orm.MapperProperty` objects,
which are accessible via the :meth:`_orm.Mapper.get_property`
method and the :attr:`_orm.Mapper.iterate_properties` attribute.

This event differs from the
:meth:`_orm.MapperEvents.before_mapper_configured` event in that it
is invoked within the constructor for :class:`_orm.Mapper`, rather
than within the :meth:`_orm.registry.configure` process.   Currently,
this event is the only one which is appropriate for handlers that
wish to create additional mapped classes in response to the
construction of this :class:`_orm.Mapper`, which will be part of the
same configure step when :meth:`_orm.registry.configure` next runs.

.. versionadded:: 2.0.2

.. seealso::

    :ref:`examples_versioning` - an example which illustrates the use
    of the :meth:`_orm.MapperEvents.before_mapper_configured`
    event to create new mappers to record change-audit histories on
    objects.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.after_update">
    
  </a>
  <a name="after_update">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">after_update</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, connection: <code>Connection</code>, target: <code><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1362">
      
      (source)
    </a>
    <a class="headerLink" href="#after_update" title="sqlalchemy.orm.events.MapperEvents.after_update">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive an object instance after an UPDATE statement
is emitted corresponding to that instance.

.. note:: this event **only** applies to the
   :ref:`session flush operation &lt;session_flushing&gt;`
   and does **not** apply to the ORM DML operations described at
   :ref:`orm_expression_update_delete`.  To intercept ORM
   DML events, use :meth:`_orm.SessionEvents.do_orm_execute`.

This event is used to modify in-Python-only
state on the instance after an UPDATE occurs, as well
as to emit additional SQL statements on the given
connection.

This method is called for all instances that are
marked as "dirty", *even those which have no net changes
to their column-based attributes*, and for which
no UPDATE statement has proceeded. An object is marked
as dirty when any of its column-based attributes have a
"set attribute" operation called or when any of its
collections are modified. If, at update time, no
column-based attributes have any net changes, no UPDATE
statement will be issued. This means that an instance
being sent to :meth:`~.MapperEvents.after_update` is
*not* a guarantee that an UPDATE statement has been
issued.

To detect if the column-based attributes on the object have net
changes, and therefore resulted in an UPDATE statement, use
``object_session(instance).is_modified(instance,
include_collections=False)``.

The event is often called for a batch of objects of the
same class after their UPDATE statements have been emitted at
once in a previous step. In the extremely rare case that
this is not desirable, the :class:`_orm.Mapper` can be
configured with ``batch=False``, which will cause
batches of instances to be broken up into individual
(and more poorly performing) event-&gt;persist-&gt;event
steps.

.. warning::

    Mapper-level flush events only allow **very limited operations**,
    on attributes local to the row being operated upon only,
    as well as allowing any SQL to be emitted on the given
    :class:`_engine.Connection`.  **Please read fully** the notes
    at :ref:`session_persistence_mapper` for guidelines on using
    these methods; generally, the :meth:`.SessionEvents.before_flush`
    method should be preferred for general on-flush changes.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param connection: the :class:`_engine.Connection` being used to
 emit UPDATE statements for this instance.  This
 provides a handle into the current transaction on the
 target database specific to this instance.
:param target: the mapped instance being persisted.  If
 the event is configured with ``raw=True``, this will
 instead be the :class:`.InstanceState` state-management
 object associated with the instance.
:return: No return value is supported by this event.

.. seealso::

    :ref:`session_persistence_events`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.before_configured">
    
  </a>
  <a name="before_configured">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">before_configured</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1076">
      
      (source)
    </a>
    <a class="headerLink" href="#before_configured" title="sqlalchemy.orm.events.MapperEvents.before_configured">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Called before a series of mappers have been configured.

The :meth:`.MapperEvents.before_configured` event is invoked
each time the :func:`_orm.configure_mappers` function is
invoked, before the function has done any of its work.
:func:`_orm.configure_mappers` is typically invoked
automatically as mappings are first used, as well as each time
new mappers have been made available and new mapper use is
detected.

This event can **only** be applied to the :class:`_orm.Mapper` class,
and not to individual mappings or mapped classes. It is only invoked
for all mappings as a whole::

    from sqlalchemy.orm import Mapper

    @event.listens_for(Mapper, "before_configured")
    def go():
        ...

Contrast this event to :meth:`.MapperEvents.after_configured`,
which is invoked after the series of mappers has been configured,
as well as :meth:`.MapperEvents.before_mapper_configured`
and :meth:`.MapperEvents.mapper_configured`, which are both invoked
on a per-mapper basis.

Theoretically this event is called once per
application, but is actually called any time new mappers
are to be affected by a :func:`_orm.configure_mappers`
call.   If new mappings are constructed after existing ones have
already been used, this event will likely be called again.  To ensure
that a particular event is only called once and no further, the
``once=True`` argument (new in 0.9.4) can be applied::

    from sqlalchemy.orm import mapper

    @event.listens_for(mapper, "before_configured", once=True)
    def go():
        ...


.. seealso::

    :meth:`.MapperEvents.before_mapper_configured`

    :meth:`.MapperEvents.mapper_configured`

    :meth:`.MapperEvents.after_configured`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.before_delete">
    
  </a>
  <a name="before_delete">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">before_delete</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, connection: <code>Connection</code>, target: <code><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1434">
      
      (source)
    </a>
    <a class="headerLink" href="#before_delete" title="sqlalchemy.orm.events.MapperEvents.before_delete">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive an object instance before a DELETE statement
is emitted corresponding to that instance.

.. note:: this event **only** applies to the
   :ref:`session flush operation &lt;session_flushing&gt;`
   and does **not** apply to the ORM DML operations described at
   :ref:`orm_expression_update_delete`.  To intercept ORM
   DML events, use :meth:`_orm.SessionEvents.do_orm_execute`.

This event is used to emit additional SQL statements on
the given connection as well as to perform application
specific bookkeeping related to a deletion event.

The event is often called for a batch of objects of the
same class before their DELETE statements are emitted at
once in a later step.

.. warning::

    Mapper-level flush events only allow **very limited operations**,
    on attributes local to the row being operated upon only,
    as well as allowing any SQL to be emitted on the given
    :class:`_engine.Connection`.  **Please read fully** the notes
    at :ref:`session_persistence_mapper` for guidelines on using
    these methods; generally, the :meth:`.SessionEvents.before_flush`
    method should be preferred for general on-flush changes.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param connection: the :class:`_engine.Connection` being used to
 emit DELETE statements for this instance.  This
 provides a handle into the current transaction on the
 target database specific to this instance.
:param target: the mapped instance being deleted.  If
 the event is configured with ``raw=True``, this will
 instead be the :class:`.InstanceState` state-management
 object associated with the instance.
:return: No return value is supported by this event.

.. seealso::

    :ref:`session_persistence_events`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.before_insert">
    
  </a>
  <a name="before_insert">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">before_insert</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, connection: <code>Connection</code>, target: <code><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1181">
      
      (source)
    </a>
    <a class="headerLink" href="#before_insert" title="sqlalchemy.orm.events.MapperEvents.before_insert">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive an object instance before an INSERT statement
is emitted corresponding to that instance.

.. note:: this event **only** applies to the
   :ref:`session flush operation &lt;session_flushing&gt;`
   and does **not** apply to the ORM DML operations described at
   :ref:`orm_expression_update_delete`.  To intercept ORM
   DML events, use :meth:`_orm.SessionEvents.do_orm_execute`.

This event is used to modify local, non-object related
attributes on the instance before an INSERT occurs, as well
as to emit additional SQL statements on the given
connection.

The event is often called for a batch of objects of the
same class before their INSERT statements are emitted at
once in a later step. In the extremely rare case that
this is not desirable, the :class:`_orm.Mapper` object can be
configured with ``batch=False``, which will cause
batches of instances to be broken up into individual
(and more poorly performing) event-&gt;persist-&gt;event
steps.

.. warning::

    Mapper-level flush events only allow **very limited operations**,
    on attributes local to the row being operated upon only,
    as well as allowing any SQL to be emitted on the given
    :class:`_engine.Connection`.  **Please read fully** the notes
    at :ref:`session_persistence_mapper` for guidelines on using
    these methods; generally, the :meth:`.SessionEvents.before_flush`
    method should be preferred for general on-flush changes.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param connection: the :class:`_engine.Connection` being used to
 emit INSERT statements for this instance.  This
 provides a handle into the current transaction on the
 target database specific to this instance.
:param target: the mapped instance being persisted.  If
 the event is configured with ``raw=True``, this will
 instead be the :class:`.InstanceState` state-management
 object associated with the instance.
:return: No return value is supported by this event.

.. seealso::

    :ref:`session_persistence_events`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.before_mapper_configured">
    
  </a>
  <a name="before_mapper_configured">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">before_mapper_configured</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, class_: <code>Type[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L972">
      
      (source)
    </a>
    <a class="headerLink" href="#before_mapper_configured" title="sqlalchemy.orm.events.MapperEvents.before_mapper_configured">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Called right before a specific mapper is to be configured.

This event is intended to allow a specific mapper to be skipped during
the configure step, by returning the :attr:`.orm.interfaces.EXT_SKIP`
symbol which indicates to the :func:`.configure_mappers` call that this
particular mapper (or hierarchy of mappers, if ``propagate=True`` is
used) should be skipped in the current configuration run. When one or
more mappers are skipped, the he "new mappers" flag will remain set,
meaning the :func:`.configure_mappers` function will continue to be
called when mappers are used, to continue to try to configure all
available mappers.

In comparison to the other configure-level events,
:meth:`.MapperEvents.before_configured`,
:meth:`.MapperEvents.after_configured`, and
:meth:`.MapperEvents.mapper_configured`, the
:meth;`.MapperEvents.before_mapper_configured` event provides for a
meaningful return value when it is registered with the ``retval=True``
parameter.

.. versionadded:: 1.3

e.g.::

    from sqlalchemy.orm import EXT_SKIP

    Base = declarative_base()

    DontConfigureBase = declarative_base()

    @event.listens_for(
        DontConfigureBase,
        "before_mapper_configured", retval=True, propagate=True)
    def dont_configure(mapper, cls):
        return EXT_SKIP


.. seealso::

    :meth:`.MapperEvents.before_configured`

    :meth:`.MapperEvents.after_configured`

    :meth:`.MapperEvents.mapper_configured`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.before_update">
    
  </a>
  <a name="before_update">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">before_update</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, connection: <code>Connection</code>, target: <code><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1289">
      
      (source)
    </a>
    <a class="headerLink" href="#before_update" title="sqlalchemy.orm.events.MapperEvents.before_update">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive an object instance before an UPDATE statement
is emitted corresponding to that instance.

.. note:: this event **only** applies to the
   :ref:`session flush operation &lt;session_flushing&gt;`
   and does **not** apply to the ORM DML operations described at
   :ref:`orm_expression_update_delete`.  To intercept ORM
   DML events, use :meth:`_orm.SessionEvents.do_orm_execute`.

This event is used to modify local, non-object related
attributes on the instance before an UPDATE occurs, as well
as to emit additional SQL statements on the given
connection.

This method is called for all instances that are
marked as "dirty", *even those which have no net changes
to their column-based attributes*. An object is marked
as dirty when any of its column-based attributes have a
"set attribute" operation called or when any of its
collections are modified. If, at update time, no
column-based attributes have any net changes, no UPDATE
statement will be issued. This means that an instance
being sent to :meth:`~.MapperEvents.before_update` is
*not* a guarantee that an UPDATE statement will be
issued, although you can affect the outcome here by
modifying attributes so that a net change in value does
exist.

To detect if the column-based attributes on the object have net
changes, and will therefore generate an UPDATE statement, use
``object_session(instance).is_modified(instance,
include_collections=False)``.

The event is often called for a batch of objects of the
same class before their UPDATE statements are emitted at
once in a later step. In the extremely rare case that
this is not desirable, the :class:`_orm.Mapper` can be
configured with ``batch=False``, which will cause
batches of instances to be broken up into individual
(and more poorly performing) event-&gt;persist-&gt;event
steps.

.. warning::

    Mapper-level flush events only allow **very limited operations**,
    on attributes local to the row being operated upon only,
    as well as allowing any SQL to be emitted on the given
    :class:`_engine.Connection`.  **Please read fully** the notes
    at :ref:`session_persistence_mapper` for guidelines on using
    these methods; generally, the :meth:`.SessionEvents.before_flush`
    method should be preferred for general on-flush changes.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param connection: the :class:`_engine.Connection` being used to
 emit UPDATE statements for this instance.  This
 provides a handle into the current transaction on the
 target database specific to this instance.
:param target: the mapped instance being persisted.  If
 the event is configured with ``raw=True``, this will
 instead be the :class:`.InstanceState` state-management
 object associated with the instance.
:return: No return value is supported by this event.

.. seealso::

    :ref:`session_persistence_events`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.instrument_class">
    
  </a>
  <a name="instrument_class">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">instrument_class</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, class_: <code>Type[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L907">
      
      (source)
    </a>
    <a class="headerLink" href="#instrument_class" title="sqlalchemy.orm.events.MapperEvents.instrument_class">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Receive a class when the mapper is first constructed,
before instrumentation is applied to the mapped class.

This event is the earliest phase of mapper construction.
Most attributes of the mapper are not yet initialized.   To
receive an event within initial mapper construction where basic
state is available such as the :attr:`_orm.Mapper.attrs` collection,
the :meth:`_orm.MapperEvents.after_mapper_constructed` event may
be a better choice.

This listener can either be applied to the :class:`_orm.Mapper`
class overall, or to any un-mapped class which serves as a base
for classes that will be mapped (using the ``propagate=True`` flag)::

    Base = declarative_base()

    @event.listens_for(Base, "instrument_class", propagate=True)
    def on_new_class(mapper, cls_):
        " ... "

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param class\_: the mapped class.

.. seealso::

    :meth:`_orm.MapperEvents.after_mapper_constructed`</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents.mapper_configured">
    
  </a>
  <a name="mapper_configured">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">mapper_configured</span><span class="function-signature">(self, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>, class_: <code>Type[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L1022">
      
      (source)
    </a>
    <a class="headerLink" href="#mapper_configured" title="sqlalchemy.orm.events.MapperEvents.mapper_configured">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="pre">Called when a specific mapper has completed its own configuration
within the scope of the :func:`.configure_mappers` call.

The :meth:`.MapperEvents.mapper_configured` event is invoked
for each mapper that is encountered when the
:func:`_orm.configure_mappers` function proceeds through the current
list of not-yet-configured mappers.
:func:`_orm.configure_mappers` is typically invoked
automatically as mappings are first used, as well as each time
new mappers have been made available and new mapper use is
detected.

When the event is called, the mapper should be in its final
state, but **not including backrefs** that may be invoked from
other mappers; they might still be pending within the
configuration operation.    Bidirectional relationships that
are instead configured via the
:paramref:`.orm.relationship.back_populates` argument
*will* be fully available, since this style of relationship does not
rely upon other possibly-not-configured mappers to know that they
exist.

For an event that is guaranteed to have **all** mappers ready
to go including backrefs that are defined only on other
mappings, use the :meth:`.MapperEvents.after_configured`
event; this event invokes only after all known mappings have been
fully configured.

The :meth:`.MapperEvents.mapper_configured` event, unlike
:meth:`.MapperEvents.before_configured` or
:meth:`.MapperEvents.after_configured`,
is called for each mapper/class individually, and the mapper is
passed to the event itself.  It also is called exactly once for
a particular mapper.  The event is therefore useful for
configurational steps that benefit from being invoked just once
on a specific mapper basis, which don't require that "backref"
configurations are necessarily ready yet.

:param mapper: the :class:`_orm.Mapper` which is the target
 of this event.
:param class\_: the mapped class.

.. seealso::

    :meth:`.MapperEvents.before_configured`

    :meth:`.MapperEvents.after_configured`

    :meth:`.MapperEvents.before_mapper_configured`</p></div>
  </div>
</div><div class="baseclassmethod private">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents._accept_with">
    
  </a>
  <a name="_accept_with">
    
  </a>
  <div class="functionHeader">
    
    @classmethod<br />@util.preload_module(<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">sqlalchemy.orm</span><span class="rst-variable-quote">'</span>)<br />
    <span class="py-keyword">def</span> <span class="py-defname">_accept_with</span><span class="function-signature">(cls, target: <code>Union[<wbr></wbr>mapperlib.Mapper[<wbr></wbr>Any], <wbr></wbr>Type[<wbr></wbr>mapperlib.Mapper[<wbr></wbr>Any]]]</code>, identifier: <code>str</code>) -&gt; <code>Optional[<wbr></wbr>Union[<wbr></wbr>mapperlib.Mapper[<wbr></wbr>Any], <wbr></wbr>Type[<wbr></wbr>mapperlib.Mapper[<wbr></wbr>Any]]]]</code></span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L818">
      
      (source)
    </a>
    <a class="headerLink" href="#_accept_with" title="sqlalchemy.orm.events.MapperEvents._accept_with">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="sqlalchemy.event.base.Events.html#_accept_with" class="internal-link">sqlalchemy.event.base.Events._accept_with</a></code></div>
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseclassmethod private">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents._clear">
    
  </a>
  <a name="_clear">
    
  </a>
  <div class="functionHeader">
    
    @classmethod<br />
    <span class="py-keyword">def</span> <span class="py-defname">_clear</span><span class="function-signature">(cls)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L902">
      
      (source)
    </a>
    <a class="headerLink" href="#_clear" title="sqlalchemy.orm.events.MapperEvents._clear">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="sqlalchemy.event.base.Events.html#_clear" class="internal-link">sqlalchemy.event.base.Events._clear</a></code></div>
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseclassmethod private">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents._listen">
    
  </a>
  <a name="_listen">
    
  </a>
  <div class="functionHeader">
    
    @classmethod<br />
    <span class="py-keyword">def</span> <span class="py-defname">_listen</span><span class="function-signature">(cls, event_key: <code><a href="sqlalchemy.event.registry._EventKey.html" class="internal-link" title="sqlalchemy.event.registry._EventKey">_EventKey</a>[<wbr></wbr><a href="sqlalchemy.event.registry.html#_ET" class="internal-link" title="sqlalchemy.event.registry._ET">_ET</a>]</code>, raw: <code>bool</code> = False, retval: <code>bool</code> = False, propagate: <code>bool</code> = False, **kw: <code>Any</code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L847">
      
      (source)
    </a>
    <a class="headerLink" href="#_listen" title="sqlalchemy.orm.events.MapperEvents._listen">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="sqlalchemy.event.base.Events.html#_listen" class="internal-link">sqlalchemy.event.base.Events._listen</a></code></div>
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseclassmethod private">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents._new_mapper_instance">
    
  </a>
  <a name="_new_mapper_instance">
    
  </a>
  <div class="functionHeader">
    
    @classmethod<br />
    <span class="py-keyword">def</span> <span class="py-defname">_new_mapper_instance</span><span class="function-signature">(cls, class_: <code>Union[<wbr></wbr><a href="sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept.html" class="internal-link" title="sqlalchemy.orm.decl_api.DeclarativeAttributeIntercept">DeclarativeAttributeIntercept</a>, <wbr></wbr>DeclarativeMeta, <wbr></wbr>type]</code>, mapper: <code><a href="sqlalchemy.orm.mapper.Mapper.html" class="internal-link" title="sqlalchemy.orm.mapper.Mapper">Mapper</a>[<wbr></wbr><a href="sqlalchemy.orm._typing.html#_O" class="internal-link" title="sqlalchemy.orm._typing._O">_O</a>]</code>)</span>:
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L810">
      
      (source)
    </a>
    <a class="headerLink" href="#_new_mapper_instance" title="sqlalchemy.orm.events.MapperEvents._new_mapper_instance">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseclassvariable private">
  
  
  <a name="sqlalchemy.orm.events.MapperEvents._target_class_doc">
    
  </a>
  <a name="_target_class_doc">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_target_class_doc</span>: <code>str</code> =
    <a class="sourceLink" href="https://github.com/pydocbrowser/pydocbrowser.github.io/tree/main/build/sources/sqlalchemy-2.0.15//lib/sqlalchemy/orm/events.py#L807">
      
      (source)
    </a>
    <a class="headerLink" href="#_target_class_doc" title="sqlalchemy.orm.events.MapperEvents._target_class_doc">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for sqlalchemy,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    23.4.0.dev0 at 2023-05-21 01:00:35.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>